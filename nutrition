<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trenova+ | –ü–∏—Ç–∞–Ω–∏–µ</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background-color: #f9f9f9; color: #333; }
    header { background-color: #4CAF50; color: white; padding: 20px; text-align: center; }
    nav { text-align:center; margin:15px; }
    a { color:#4CAF50; text-decoration:none; margin:0 10px; }
    main { max-width:650px; margin:30px auto; padding:20px; background:white; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
    label { display:block; margin-top:10px; }
    input, select { width:100%; padding:8px; border:1px solid #ccc; border-radius:5px; margin-bottom:15px; }
    button { background:#4CAF50; color:white; border:none; padding:10px; border-radius:5px; width:100%; cursor:pointer; font-size:16px; }
    button:hover { background:#43a047; }
    .result { background:#e7f5e6; padding:15px; border-radius:8px; margin-top:15px; }
  </style>
</head>
<body>
  <header>
    <h1>Trenova+ | –ü–∏—Ç–∞–Ω–∏–µ</h1>
  </header>
  <nav>
    <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a> |
    <a href="strength.html">üèãÔ∏è –°–∏–ª–∞</a>
  </nav>

  <main>
    <h2>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–∞–ª–æ—Ä–∏–π</h2>
    <form id="calcForm">
      <label>–í–æ–∑—Ä–∞—Å—Ç:</label>
      <input type="number" id="age" required>
      <label>–†–æ—Å—Ç (—Å–º):</label>
      <input type="number" id="height" required>
      <label>–í–µ—Å (–∫–≥):</label>
      <input type="number" id="weight" required>
      <label>–ü–æ–ª:</label>
      <select id="sex">
        <option value="–º">–ú—É–∂—Å–∫–æ–π</option>
        <option value="–∂">–ñ–µ–Ω—Å–∫–∏–π</option>
      </select>
      <label>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</label>
      <select id="activity">
        <option value="1">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è</option>
        <option value="2">–ù–∏–∑–∫–∞—è</option>
        <option value="3">–°—Ä–µ–¥–Ω—è—è</option>
        <option value="4">–í—ã—Å–æ–∫–∞—è</option>
        <option value="5">–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è</option>
      </select>
      <label>–¶–µ–ª—å:</label>
      <select id="goal">
        <option value="–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ">–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞</option>
        <option value="–ø–æ—Ö—É–¥–µ–Ω–∏–µ">–ü–æ—Ö—É–¥–µ–Ω–∏–µ</option>
        <option value="–Ω–∞–±–æ—Ä">–ù–∞–±–æ—Ä –º–∞—Å—Å—ã</option>
      </select>
      <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    </form>
    <div class="result" id="result" style="display:none;"></div>
  </main>

  <script>
    document.getElementById('calcForm').addEventListener('submit', e => {
      e.preventDefault();
      const age = +document.getElementById('age').value;
      const height = +document.getElementById('height').value;
      const weight = +document.getElementById('weight').value;
      const sex = document.getElementById('sex').value;
      const activity = +document.getElementById('activity').value;
      const goal = document.getElementById('goal').value;

      let bmr = (sex === "–º")
        ? 10 * weight + 6.25 * height - 5 * age + 5
        : 10 * weight + 6.25 * height - 5 * age - 161;

      const tdee = bmr * [1.2,1.375,1.55,1.725,1.9][activity-1];
      let adjustedCalories = tdee;
      if (goal === "–ø–æ—Ö—É–¥–µ–Ω–∏–µ") adjustedCalories *= 0.85;
      if (goal === "–Ω–∞–±–æ—Ä") adjustedCalories *= 1.1;

      const protein = Math.round(weight * 1.8);
      const fat = Math.round(weight * 0.8);
      const carbs = Math.round((adjustedCalories - (protein*4 + fat*9))/4);
      const slowCarbs = Math.round(carbs * 0.65);
      const simpleCarbs = carbs - slowCarbs;
      const plantFat = Math.round(fat * 0.65);
      const animalFat = fat - plantFat;

      const res = document.getElementById('result');
      res.style.display = "block";
      res.innerHTML = `
        üî• <strong>–°—É—Ç–æ—á–Ω–∞—è –Ω–æ—Ä–º–∞:</strong> ${Math.round(adjustedCalories)} –∫–∫–∞–ª<br>
        üçó –ë–µ–ª–∫–∏: ${protein} –≥<br>
        ü•ë –ñ–∏—Ä—ã: ${fat} –≥ (—Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–µ: ${plantFat} –≥, –∂–∏–≤–æ—Ç–Ω—ã–µ: ${animalFat} –≥)<br>
        üçû –£–≥–ª–µ–≤–æ–¥—ã: ${carbs} –≥ (–º–µ–¥–ª–µ–Ω–Ω—ã–µ: ${slowCarbs} –≥, –ø—Ä–æ—Å—Ç—ã–µ: ${simpleCarbs} –≥)
      `;
    });
  </script>
</body>
</html>
